# VTBAIHR - –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ HR-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å –ò–ò

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞](#–æ–±–∑–æ—Ä-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
3. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
4. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
5. [–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–æ—Å–Ω–æ–≤–Ω—ã–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
6. [–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –∏ —Å—É—â–Ω–æ—Å—Ç–∏](#–º–æ–¥–µ–ª—å-–¥–∞–Ω–Ω—ã—Ö-–∏-—Å—É—â–Ω–æ—Å—Ç–∏)
7. [API Endpoints](#api-endpoints)
8. [–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç—ã —Å –ò–ò](#—Å–∏—Å—Ç–µ–º–∞-—Ä–∞–±–æ—Ç—ã-—Å-–∏–∏)
9. [–ê–ª–≥–æ—Ä–∏—Ç–º—ã –æ—Ü–µ–Ω–∫–∏](#–∞–ª–≥–æ—Ä–∏—Ç–º—ã-–æ—Ü–µ–Ω–∫–∏)
10. [–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞](#—Å–∏—Å—Ç–µ–º–∞-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞)

---

## üéØ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

**VTBAIHR** - –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ HR-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ —Å–∫—Ä–∏–Ω–∏–Ω–≥–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∏–Ω—Ç–µ—Ä–≤—å—é.

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—é–º–µ —Å –ø–æ–º–æ—â—å—é GPT-4
- üéôÔ∏è –ì–æ–ª–æ—Å–æ–≤—ã–µ –∏–Ω—Ç–µ—Ä–≤—å—é —Å –ò–ò-–∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä–æ–º
- üìä –ú–Ω–æ–≥–æ–∫—Ä–∏—Ç–µ—Ä–∏–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
- üì± –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- üìà –ü–æ–ª–Ω–∞—è –æ–±—Å–µ—Ä–≤–∞–±–µ–ª—å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ OpenTelemetry

---

## üí° –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–ª—è HR-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤:
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏—è–º–∏ —Å –≥–∏–±–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–ø–∏—Å–∞–Ω–∏—è –≤–∞–∫–∞–Ω—Å–∏–∏
- –ú–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ —Å–∫—Ä–∏–Ω–∏–Ω–≥ —Ä–µ–∑—é–º–µ
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ—Å–æ–≤ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –æ—Ü–µ–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –≤–∞–∫–∞–Ω—Å–∏–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–Ω—Ç–µ—Ä–≤—å—é —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π

### –î–ª—è –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤:
- –ü—Ä–æ—Å—Ç–∞—è –ø–æ–¥–∞—á–∞ –∑–∞—è–≤–∫–∏ –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏—é
- –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤—å—é –≤ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è
- –ü–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Telegram –∏–ª–∏ email
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –∏ –∞–Ω–∞–ª–∏–∑ –æ—Ç–≤–µ—Ç–æ–≤

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **Python 3.11+** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **FastAPI** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è API
- **SQLAlchemy** + **asyncpg** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å PostgreSQL
- **Uvicorn** - ASGI —Å–µ—Ä–≤–µ—Ä

### –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- **PostgreSQL** - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Redis** - –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –∞–ª–µ—Ä—Ç–æ–≤
- **WeedFS** - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è —Ñ–∞–π–ª–æ–≤ (—Ä–µ–∑—é–º–µ, –∞—É–¥–∏–æ)

### –ò–ò –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **OpenAI GPT-4** - –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—é–º–µ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤
- **Whisper** - —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –∞—É–¥–∏–æ
- **TTS (Text-to-Speech)** - —Å–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏ –¥–ª—è –ò–ò-–∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä–∞
- **pypdf** + **pdf2image** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ PDF-—Ä–µ–∑—é–º–µ

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **Telegram API (Telethon)** - –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **SMTP** - email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **OpenTelemetry** - —Ç—Ä–µ–π—Å–∏–Ω–≥, –º–µ—Ç—Ä–∏–∫–∏, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **Grafana** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
- **Loki** - –∞–≥—Ä–µ–≥–∞—Ü–∏—è –ª–æ–≥–æ–≤  
- **Tempo** - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Ç—Ä–µ–π—Å–∏–Ω–≥
- **OTEL Collector** - —Å–±–æ—Ä —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –°–ª–æ–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Clean Architecture)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   HTTP Layer                        ‚îÇ
‚îÇ                FastAPI + Middleware                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                Controller Layer                     ‚îÇ
‚îÇ    VacancyController ‚îÇ InterviewController          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                 Service Layer                       ‚îÇ
‚îÇ  VacancyService ‚îÇ InterviewService ‚îÇ PromptGen      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                Repository Layer                     ‚îÇ
‚îÇ        VacancyRepo ‚îÇ InterviewRepo                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ              Infrastructure Layer                   ‚îÇ
‚îÇ   PostgreSQL ‚îÇ Redis ‚îÇ WeedFS ‚îÇ OpenAI ‚îÇ Telegram  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
vtbaihr/
‚îú‚îÄ‚îÄ internal/              # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ app/              # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ config/           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ controller/       # HTTP –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ service/          # –ë–∏–∑–Ω–µ—Å-—Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ repo/            # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ model/           # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Å—É—â–Ω–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ interface/       # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (Protocol)
‚îú‚îÄ‚îÄ infrastructure/       # –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ pg/              # PostgreSQL –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ redis_client/    # Redis –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ weedfs/          # WeedFS –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ telemetry/       # OpenTelemetry
‚îú‚îÄ‚îÄ pkg/                 # –í–Ω–µ—à–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ client/external/
‚îÇ       ‚îú‚îÄ‚îÄ openai/      # OpenAI GPT –∫–ª–∏–µ–Ω—Ç
‚îÇ       ‚îú‚îÄ‚îÄ telegram/    # Telegram –∫–ª–∏–µ–Ω—Ç
‚îÇ       ‚îî‚îÄ‚îÄ email/       # Email –∫–ª–∏–µ–Ω—Ç
‚îî‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```

---

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ú–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—é–º–µ (HR)

```mermaid
sequenceDiagram
    participant HR
    participant API
    participant LLM
    participant DB
    participant Telegram
    
    HR->>API: POST /evaluate-resumes (—Ñ–∞–π–ª—ã —Ä–µ–∑—é–º–µ)
    API->>LLM: –ê–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∑—é–º–µ
    LLM-->>API: –û—Ü–µ–Ω–∫–∏ –∏ –¥–∞–Ω–Ω—ã–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
    API->>DB: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
    API->>Telegram: –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π
    API-->>HR: –°–ø–∏—Å–æ–∫ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
```

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. HR –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–∞—á–∫—É —Ä–µ–∑—é–º–µ —á–µ—Ä–µ–∑ endpoint `/evaluate-resumes`
2. –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞–∂–¥–æ–µ —Ä–µ–∑—é–º–µ —á–µ—Ä–µ–∑ GPT-4
3. –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (email, —Ç–µ–ª–µ—Ñ–æ–Ω, Telegram)
4. –û—Ü–µ–Ω–∏–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º
5. –°–æ–∑–¥–∞–µ—Ç –∏–Ω—Ç–µ—Ä–≤—å—é –¥–ª—è –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
6. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è —á–µ—Ä–µ–∑ Telegram/Email

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –û—Ç–∫–ª–∏–∫ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞

```mermaid
sequenceDiagram
    participant Candidate
    participant API
    participant LLM
    participant DB
    participant Notification
    
    Candidate->>API: POST /respond (—Ä–µ–∑—é–º–µ)
    API->>LLM: –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—é–º–µ
    LLM-->>API: –û—Ü–µ–Ω–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
    alt –ö–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–¥—Ö–æ–¥–∏—Ç
        API->>DB: –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤—å—é
        API->>Notification: –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
        API-->>Candidate: –°—Å—ã–ª–∫–∞ –Ω–∞ –∏–Ω—Ç–µ—Ä–≤—å—é
    else –ö–∞–Ω–¥–∏–¥–∞—Ç –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç
        API-->>Candidate: –û—Ç–∫–∞–∑ —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º
    end
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –ò–ò-–∏–Ω—Ç–µ—Ä–≤—å—é

```mermaid
sequenceDiagram
    participant Candidate
    participant API
    participant LLM
    participant TTS
    participant Whisper
    participant Storage
    
    Candidate->>API: POST /interview/start/{id}
    API->>LLM: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
    API->>TTS: –°–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏
    API-->>Candidate: –ê—É–¥–∏–æ —Å –ø–µ—Ä–≤—ã–º –≤–æ–ø—Ä–æ—Å–æ–º
    
    loop –î–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
        Candidate->>API: POST /interview/answer (–∞—É–¥–∏–æ)
        API->>Storage: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞—É–¥–∏–æ
        API->>Whisper: –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è
        API->>LLM: –ê–Ω–∞–ª–∏–∑ –æ—Ç–≤–µ—Ç–∞
        API->>LLM: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è
        alt –ù—É–∂–Ω–æ —É—Ç–æ—á–Ω–µ–Ω–∏–µ
            API->>TTS: –°–∏–Ω—Ç–µ–∑ —É—Ç–æ—á–Ω—è—é—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
            API-->>Candidate: –ê—É–¥–∏–æ —Å —É—Ç–æ—á–Ω–µ–Ω–∏–µ–º
        else –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É
            API->>LLM: –û—Ü–µ–Ω–∫–∞ –æ—Ç–≤–µ—Ç–∞
            API->>TTS: –°–∏–Ω—Ç–µ–∑ —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
            API-->>Candidate: –ê—É–¥–∏–æ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º –≤–æ–ø—Ä–æ—Å–æ–º
        end
    end
    
    API->>LLM: –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ –∏–Ω—Ç–µ—Ä–≤—å—é
    API-->>Candidate: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
```

---

## üìä –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –∏ —Å—É—â–Ω–æ—Å—Ç–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

#### 1. **Vacancy** (–í–∞–∫–∞–Ω—Å–∏—è)
```python
- id: int                    # ID –≤–∞–∫–∞–Ω—Å–∏–∏
- name: str                  # –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏
- tags: list[str]           # –¢–µ–≥–∏/–Ω–∞–≤—ã–∫–∏
- description: str          # –û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏
- red_flags: str            # –ö—Ä–∞—Å–Ω—ã–µ —Ñ–ª–∞–≥–∏
- skill_lvl: SkillLevel     # –£—Ä–æ–≤–µ–Ω—å (junior/middle/senior/lead)
- created_at: datetime
```

#### 2. **VacancyQuestion** (–í–æ–ø—Ä–æ—Å –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é)
```python
- id: int
- vacancy_id: int           # –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –≤–∞–∫–∞–Ω—Å–∏–∏
- question: str             # –¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞
- hint_for_evaluation: str  # –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –æ—Ü–µ–Ω–∫–∏
- weight: int               # –í–µ—Å –≤–æ–ø—Ä–æ—Å–∞ (1-10)
- question_type: QuestionsType  # –¢–∏–ø (soft/hard/soft-hard)
- response_time: int        # –í—Ä–µ–º—è –Ω–∞ –æ—Ç–≤–µ—Ç –≤ –º–∏–Ω—É—Ç–∞—Ö
```

#### 3. **Interview** (–ò–Ω—Ç–µ—Ä–≤—å—é)
```python
- id: int
- vacancy_id: int
- candidate_email: str
- candidate_name: str
- candidate_phone: str
- candidate_telegram_login: str
- candidate_resume_fid: str     # ID —Ñ–∞–π–ª–∞ –≤ WeedFS
- candidate_resume_filename: str
# –û—Ü–µ–Ω–∫–∏ –ø–æ —Ä–µ–∑—é–º–µ
- accordance_xp_vacancy_score: int      # –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–ø—ã—Ç–∞
- accordance_skill_vacancy_score: int   # –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–∞–≤—ã–∫–æ–≤
# –û—Ü–µ–Ω–∫–∏ –ø–æ –∏–Ω—Ç–µ—Ä–≤—å—é
- red_flag_score: int           # –û—Ü–µ–Ω–∫–∞ –∫—Ä–∞—Å–Ω—ã—Ö —Ñ–ª–∞–≥–æ–≤
- hard_skill_score: int         # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏
- soft_skill_score: int         # Soft skills
- logic_structure_score: int    # –õ–æ–≥–∏–∫–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤
- accordance_xp_resume_score: int    # –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–ø—ã—Ç–∞ —Ä–µ–∑—é–º–µ
- accordance_skill_resume_score: int # –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–∞–≤—ã–∫–æ–≤ —Ä–µ–∑—é–º–µ
# –ò—Ç–æ–≥–∏
- strong_areas: str             # –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã
- weak_areas: str               # –°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã
- approved_skills: list[str]    # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ –Ω–∞–≤—ã–∫–∏
- general_score: float          # –û–±—â–∏–π –±–∞–ª–ª (0-10)
- general_result: GeneralResult # –†–µ–∑—É–ª—å—Ç–∞—Ç (next/rejected/disputable)
- message_to_candidate: str     # –°–æ–æ–±—â–µ–Ω–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç—É
- message_to_hr: str            # –°–æ–æ–±—â–µ–Ω–∏–µ HR
```

#### 4. **InterviewWeights** (–í–µ—Å–∞ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –∏–Ω—Ç–µ—Ä–≤—å—é)
```python
- vacancy_id: int
- logic_structure_score_weight: int
- soft_skill_score_weight: int
- hard_skill_score_weight: int
- accordance_xp_resume_score_weight: int
- accordance_skill_resume_score_weight: int
- red_flag_score_weight: int
```

#### 5. **ResumeWeights** (–ü–æ—Ä–æ–≥–∏ –¥–ª—è —Ä–µ–∑—é–º–µ)
```python
- vacancy_id: int
- accordance_xp_vacancy_score_threshold: int     # –ü–æ—Ä–æ–≥ –ø–æ –æ–ø—ã—Ç—É
- accordance_skill_vacancy_score_threshold: int  # –ü–æ—Ä–æ–≥ –ø–æ –Ω–∞–≤—ã–∫–∞–º
- recommendation_weight: int                     # –í–µ—Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- portfolio_weight: int                          # –í–µ—Å –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
```

#### 6. **CandidateAnswer** (–û—Ç–≤–µ—Ç –∫–∞–Ω–¥–∏–¥–∞—Ç–∞)
```python
- id: int
- question_id: int
- interview_id: int
- response_time: int         # –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
- message_ids: list[int]     # ID —Å–æ–æ–±—â–µ–Ω–∏–π –¥–∏–∞–ª–æ–≥–∞
- message_to_candidate: str  # –§–∏–¥–±–µ–∫ –∫–∞–Ω–¥–∏–¥–∞—Ç—É
- message_to_hr: str         # –§–∏–¥–±–µ–∫ HR
- score: int                 # –û—Ü–µ–Ω–∫–∞ (0-10)
```

#### 7. **InterviewMessage** (–°–æ–æ–±—â–µ–Ω–∏–µ –≤ –∏–Ω—Ç–µ—Ä–≤—å—é)
```python
- id: int
- interview_id: int
- question_id: int
- audio_fid: str            # ID –∞—É–¥–∏–æ –≤ WeedFS
- audio_name: str           # –ò–º—è —Ñ–∞–π–ª–∞
- role: str                 # user/assistant
- text: str                 # –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è
- created_at: datetime
```

---

## üîå API Endpoints

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏—è–º–∏

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| POST | `/create` | –°–æ–∑–¥–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ |
| DELETE | `/delete/{vacancy_id}` | –£–¥–∞–ª–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ |
| PUT | `/edit` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ |
| GET | `/all` | –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–∞–∫–∞–Ω—Å–∏–π |
| POST | `/generate-tags` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–≥–æ–≤ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é |

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞–º–∏

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| POST | `/question/add` | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞ |
| PUT | `/question/edit` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞ |
| DELETE | `/question/delete/{id}` | –£–¥–∞–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞ |
| POST | `/question/generate` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ –ò–ò |
| GET | `/question/all/{vacancy_id}` | –í—Å–µ –≤–æ–ø—Ä–æ—Å—ã –≤–∞–∫–∞–Ω—Å–∏–∏ |
| GET | `/question/{question_id}` | –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞ |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ—Å–æ–≤ –æ—Ü–µ–Ω–∫–∏

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| POST | `/interview-weights/create` | –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Å–æ–≤ –∏–Ω—Ç–µ—Ä–≤—å—é |
| PUT | `/interview-weights/edit` | –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤–µ—Å–æ–≤ –∏–Ω—Ç–µ—Ä–≤—å—é |
| GET | `/interview-weights/{vacancy_id}` | –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–µ—Å–æ–≤ |
| POST | `/resume-weights/create` | –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ä–æ–≥–æ–≤ —Ä–µ–∑—é–º–µ |
| PUT | `/resume-weights/edit` | –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–æ–≤ |
| GET | `/resume-weights/{vacancy_id}` | –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–æ–≤ |

### –†–∞–±–æ—Ç–∞ —Å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º–∏

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| POST | `/evaluate-resumes` | –ú–∞—Å—Å–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ —Ä–µ–∑—é–º–µ |
| POST | `/respond` | –û—Ç–∫–ª–∏–∫ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ |

### –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤—å—é

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| POST | `/interview/start/{id}` | –ù–∞—á–∞–ª–æ –∏–Ω—Ç–µ—Ä–≤—å—é |
| POST | `/interview/answer` | –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ |
| GET | `/interview/vacancy/{vacancy_id}` | –í—Å–µ –∏–Ω—Ç–µ—Ä–≤—å—é –≤–∞–∫–∞–Ω—Å–∏–∏ |
| GET | `/interview/{interview_id}` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤—å—é |
| GET | `/interview/{id}/details` | –î–µ—Ç–∞–ª–∏ –∏–Ω—Ç–µ—Ä–≤—å—é |
| GET | `/interview/audio/{fid}/{name}` | –°–∫–∞—á–∞—Ç—å –∞—É–¥–∏–æ |
| GET | `/interview/resume/{fid}/{name}` | –°–∫–∞—á–∞—Ç—å —Ä–µ–∑—é–º–µ |

### Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/telegram/qr/generate` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR –¥–ª—è –≤—Ö–æ–¥–∞ |
| GET | `/telegram/qr/status` | –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ |
| POST | `/telegram/start` | –ó–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞ |

---

## ü§ñ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç—ã —Å –ò–ò

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–º–ø—Ç–æ–≤

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤:

#### 1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤** (`get_question_generation_prompt`)
- –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏, —É—Ä–æ–≤–µ–Ω—å, —Ç–µ–≥–∏
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–æ–ø—Ä–æ—Å—ã —Å —É—á–µ—Ç–æ–º —Ç–∏–ø–∞ (soft/hard) –∏ —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- –í—ã—Ö–æ–¥: JSON —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏, –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∏ –≤–µ—Å–∞–º–∏

#### 2. **–û—Ü–µ–Ω–∫–∞ —Ä–µ–∑—é–º–µ** (`get_resume_evaluation_system_prompt`)
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–µ–∑—é–º–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –≤–∞–∫–∞–Ω—Å–∏–∏
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
- –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º:
  - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–ø—ã—Ç–∞ (0-5)
  - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–∞–≤—ã–∫–æ–≤ (0-5)
  - –ù–∞–ª–∏—á–∏–µ –∫—Ä–∞—Å–Ω—ã—Ö —Ñ–ª–∞–≥–æ–≤ (0-5)
- –í—ã—Ö–æ–¥: JSON —Å –æ—Ü–µ–Ω–∫–∞–º–∏ –∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏

#### 3. **–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –≤ –∏–Ω—Ç–µ—Ä–≤—å—é** (`get_hello_interview_system_prompt`)
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- –û–±—ä—è—Å–Ω—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –∏–Ω—Ç–µ—Ä–≤—å—é
- –ó–∞–¥–∞–µ—Ç –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å

#### 4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤—å—é** (`get_interview_management_system_prompt`)
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ:
  - `delve_into_question` - —É–≥–ª—É–±–∏—Ç—å—Å—è –≤ –≤–æ–ø—Ä–æ—Å
  - `next_question` - –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É
  - `finish_interview` - –∑–∞–≤–µ—Ä—à–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤—å—é
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â—É—é —Ä–µ–ø–ª–∏–∫—É

#### 5. **–û—Ü–µ–Ω–∫–∞ –æ—Ç–≤–µ—Ç–∞** (`get_answer_evaluation_system_prompt`)
- –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∏ –ø–æ–ª–Ω–æ—Ç—É –æ—Ç–≤–µ—Ç–∞ (0-10)
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ–∏–¥–±–µ–∫ –¥–ª—è –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –∏ HR

#### 6. **–ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞** (`get_interview_summary_system_prompt`)
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ –∏–Ω—Ç–µ—Ä–≤—å—é —Ü–µ–ª–∏–∫–æ–º
- –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –ø–æ 6 –∫—Ä–∏—Ç–µ—Ä–∏—è–º
- –í—ã—è–≤–ª—è–µ—Ç —Å–∏–ª—å–Ω—ã–µ/—Å–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã
- –§–æ—Ä–º–∏—Ä—É–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—É—é —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤

#### PDF —Ä–µ–∑—é–º–µ
- **Vision –º–æ–¥–µ–ª–∏ (GPT-4o)**: –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ pdf2image
- **–¢–µ–∫—Å—Ç–æ–≤—ã–µ –º–æ–¥–µ–ª–∏**: –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ pypdf
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–æ–¥–µ–ª–∏

#### –ê—É–¥–∏–æ
- **–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è**: Whisper API –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ —Ä–µ—á–∏ –≤ —Ç–µ–∫—Å—Ç
- **–°–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏**: TTS API –¥–ª—è –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏: –≥–æ–ª–æ—Å "alloy", —Å–∫–æ—Ä–æ—Å—Ç—å 0.85x

---

## üìê –ê–ª–≥–æ—Ä–∏—Ç–º—ã –æ—Ü–µ–Ω–∫–∏

### –§–æ—Ä–º—É–ª–∞ –æ–±—â–µ–≥–æ –±–∞–ª–ª–∞ –∏–Ω—Ç–µ—Ä–≤—å—é

```python
def calculate_general_score(scores, weights):
    # –ò–Ω–≤–µ—Ä—Å–∏—è red_flag_score (—á–µ–º –±–æ–ª—å—à–µ —Ñ–ª–∞–≥–æ–≤, —Ç–µ–º —Ö—É–∂–µ)
    inverted_red_flag = 5 - scores.red_flag
    
    # –í–∑–≤–µ—à–µ–Ω–Ω–∞—è —Å—É–º–º–∞
    weighted_sum = (
        inverted_red_flag * weights.red_flag +
        scores.hard_skill * weights.hard_skill +
        scores.soft_skill * weights.soft_skill +
        scores.logic_structure * weights.logic_structure +
        scores.accordance_xp * weights.accordance_xp +
        scores.accordance_skill * weights.accordance_skill
    )
    
    # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫ –¥–∏–∞–ø–∞–∑–æ–Ω—É 0-10
    total_weight = sum(weights)
    max_possible = 5 * total_weight
    general_score = (weighted_sum / max_possible) * 10
    
    return general_score
```

### –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

- **general_score >= 7** ‚Üí `NEXT` (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É)
- **general_score >= 5** ‚Üí `DISPUTABLE` (—Å–ø–æ—Ä–Ω—ã–π –∫–∞–Ω–¥–∏–¥–∞—Ç)
- **general_score < 5** ‚Üí `REJECTED` (–æ—Ç–∫–ª–æ–Ω–µ–Ω)

### –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ä–µ–∑—é–º–µ

–ö–∞–Ω–¥–∏–¥–∞—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç –Ω–∞ –∏–Ω—Ç–µ—Ä–≤—å—é, –µ—Å–ª–∏:
- `accordance_xp_vacancy_score >= threshold_xp` –ò
- `accordance_skill_vacancy_score >= threshold_skill`

–ü–æ—Ä–æ–≥–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –≤–∞–∫–∞–Ω—Å–∏–∏.

---

## üì° –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### OpenTelemetry –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

#### –¢—Ä–µ–π—Å–∏–Ω–≥
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–π—Å–∏–Ω–≥ –≤—Å–µ—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ spans –¥–ª—è –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–π
- –ö–æ–Ω—Ç–µ–∫—Å—Ç propagation –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Tempo –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

#### –ú–µ—Ç—Ä–∏–∫–∏
- **HTTP –º–µ—Ç—Ä–∏–∫–∏:**
  - `http.server.request.duration` - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤
  - `http.server.active_requests` - –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
  - `http.server.ok.request.total` - —É—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
  - `http.server.error.request.total` - –æ—à–∏–±–∫–∏
- **Telegram –º–µ—Ç—Ä–∏–∫–∏:**
  - `telegram.server.message.duration`
  - `telegram.server.ok.message.total`
  - `telegram.server.error.message.total`

#### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ —Å trace_id –∏ span_id
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å —Ç—Ä–µ–π—Å–∞–º–∏
- –£—Ä–æ–≤–Ω–∏: DEBUG, INFO, WARNING, ERROR
- –≠–∫—Å–ø–æ—Ä—Ç –≤ Loki

### Alert Manager

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö:
- –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Redis (30 —Å–µ–∫)
- –°—Å—ã–ª–∫–∏ –Ω–∞ Grafana –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π thread —á–∞—Ç–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

## üîß –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è

### 1. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –Ω–∞ asyncio
- AsyncSQLAlchemy –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∫–ª–∏–µ–Ω—Ç—ã

### 2. Clean Architecture
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏ (Controller ‚Üí Service ‚Üí Repository)
- Dependency Injection —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã
- Protocol-based –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏

### 3. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- WeedFS –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- Graceful degradation –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
- Retry –ª–æ–≥–∏–∫–∞ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö API
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π

### 5. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Pydantic
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ sensitive –¥–∞–Ω–Ω—ã—Ö

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –≤ –∫–æ–¥:

1. **main.py** - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
2. **internal/app/http/app.py** - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–æ–≤
3. **internal/service/interview/service.py** - –ª–æ–≥–∏–∫–∞ –∏–Ω—Ç–µ—Ä–≤—å—é
4. **internal/service/vacancy/service.py** - –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –≤–∞–∫–∞–Ω—Å–∏—è–º–∏
5. **internal/service/*/prompt.py** - –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è LLM

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- `VTBAIHR_VACANCY_PORT` - –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
- `VTBAIHR_VACANCY_PREFIX` - –ø—Ä–µ—Ñ–∏–∫—Å API
- `VTBAIHR_OPENAI_API_KEY` - –∫–ª—é—á OpenAI
- `VTBAIHR_TG_API_ID/HASH` - Telegram credentials

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –≤–æ–ø—Ä–æ—Å–æ–≤:
```bash
# 1. –°–æ–∑–¥–∞–µ–º –≤–∞–∫–∞–Ω—Å–∏—é
POST /api/vacancy/create
{
  "name": "Python Developer",
  "tags": ["Python", "FastAPI", "PostgreSQL"],
  "description": "...",
  "red_flags": "–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–ø—ã—Ç–∞ —Å async",
  "skill_lvl": "middle"
}

# 2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤–æ–ø—Ä–æ—Å—ã
POST /api/vacancy/question/generate
{
  "vacancy_id": 1,
  "questions_type": "soft-hard",
  "count_questions": 5
}

# 3. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –≤–µ—Å–∞
POST /api/vacancy/interview-weights/create
{
  "vacancy_id": 1,
  "hard_skill_score_weight": 10,
  "soft_skill_score_weight": 5,
  ...
}
```

### –ú–∞—Å—Å–æ–≤—ã–π —Å–∫—Ä–∏–Ω–∏–Ω–≥:
```bash
POST /api/vacancy/evaluate-resumes
Content-Type: multipart/form-data

vacancy_id: 1
candidate_resume_files: [resume1.pdf, resume2.pdf, ...]
```

---

## üéØ –ò—Ç–æ–≥–∏

VTBAIHR –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ HR-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –ò–ò. –°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤–∞–∫–∞–Ω—Å–∏–∏ –¥–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–≤—å—é –∏ –æ—Ü–µ–Ω–∫–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤, –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∫—Ä–∞—â–∞—è –≤—Ä–µ–º—è –∏ —Ä–µ—Å—É—Ä—Å—ã HR-–¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–±–æ—Ä–∞.